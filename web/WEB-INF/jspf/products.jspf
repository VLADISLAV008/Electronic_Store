<%--===========================================================================
List of roducts.
===========================================================================--%>

<%@ include file="/WEB-INF/jspf/directive/page.jspf" %>
<%@ include file="/WEB-INF/jspf/directive/taglib.jspf" %>

<% request.getSession(); %>
<div>
    <table border="0">
        <c:set var="count" value="0"/>
        <c:forEach var="product" items="${sessionScope.products}">
            <c:if test="${count%3 == 0}">
                <tr>
            </c:if>
            <td>
                <table border="1" width="300">
                    <tr>
                        <img src="${pageContext.request.contextPath}/resources/productPictures/${product.id}.PNG"
                             alt="image.png" width="300" height="300"/>
                    </tr>
                    <tr>
                        <td>Name: ${product.name}</td>
                    </tr>
                    <tr>
                        <td>Price: ${product.price} UAH</td>
                        <c:if test="${product.amount > 0}">
                            <td>
                                <button type="submit" style="background-color: cadetblue">Add to cart</button>
                            </td>
                        </c:if>
                    </tr>
                    <tr>
                        <td>Size:</td>
                        <c:if test="${product.amount > 0}">
                            <td>Are available</td>
                        </c:if>
                        <c:if test="${product.amount == 0}">
                            <td> Not available</td>
                        </c:if>
                    </tr>
                </table>
            </td>
            <c:if test="${count%3 == 2}">
                </tr>
            </c:if>

            <c:set var="count" value="${count+1}"/>

        </c:forEach>

        <c:if test="${count%3 != 0}">
            </tr>
        </c:if>
    </table>
</div>
